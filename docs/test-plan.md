# 日語學習 App - 測試規劃

## 測試策略

### 測試層級
1. **單元測試** (Unit Tests) - 60%
2. **整合測試** (Integration Tests) - 30%  
3. **端到端測試** (E2E Tests) - 10%

### 測試工具
- **單元測試**: Jest + React Native Testing Library
- **整合測試**: Detox
- **手動測試**: 真機測試
- **性能測試**: Flipper + React DevTools

## 測試用例

### 1. 相機模組測試

**TC001: 基本拍照功能**
- **目標**: 驗證相機正常啟動和拍照
- **步驟**: 
  1. 開啟相機介面
  2. 點擊拍照按鈕
  3. 檢查圖片是否成功儲存
- **期望**: 圖片正常儲存到指定路徑

**TC002: 多張照片拍攝**
- **目標**: 驗證連續拍攝功能
- **步驟**:
  1. 拍攝第一張照片
  2. 繼續拍攝第二張
  3. 完成拍攝流程
- **期望**: 所有照片都正確儲存並關聯到同一個學習表

**TC003: 拍照異常處理**
- **測試項目**:
  - 相機權限被拒絕
  - 儲存空間不足
  - 相機硬體故障
- **期望**: 顯示適當的錯誤訊息和處理方案

### 2. OCR 文字識別測試

**TC004: 日文單字識別**
- **測試資料**: 包含平假名、片假名、漢字的單字表
- **期望準確率**: ≥90%
- **測試樣本**:
  ```
  こんにちは (平假名)
  コンピュータ (片假名)  
  勉強 (漢字)
  美しい (混合)
  ```

**TC005: 文法例句識別**
- **測試資料**: 完整的日文句子
- **期望**: 正確識別句子結構和標點符號
- **測試樣本**:
  ```
  私は学生です。
  今日は天気がいいですね。
  ```

**TC006: 圖片品質測試**
- **測試條件**:
  - 不同光線條件 (明亮/昏暗/逆光)
  - 不同角度 (正面/傾斜/遠近)
  - 不同解析度
- **期望**: 在各種條件下保持合理的識別準確率

### 3. 翻譯功能測試

**TC007: 單字翻譯準確性**
- **測試資料**: 常見日文單字 100 個
- **期望準確率**: ≥85%
- **驗證方法**: 與標準字典對比

**TC008: 句子翻譯測試**
- **測試資料**: 不同長度和複雜度的句子
- **評估標準**: 語法正確性 + 語義準確性
- **期望**: 翻譯結果可理解且語法正確

**TC009: 批量翻譯性能**
- **目標**: 驗證大量翻譯的性能
- **測試**: 同時翻譯 50+ 項目
- **期望**: 
  - 處理時間 <30秒
  - 無記憶體洩漏
  - API 調用次數優化

### 4. 資料庫功能測試

**TC010: CRUD 操作**
- **測試項目**:
  - 新增學習表和項目
  - 查詢和篩選功能
  - 更新編輯內容
  - 刪除操作和資料一致性
- **期望**: 所有操作正確執行且資料完整

**TC011: 資料庫性能**
- **測試條件**:
  - 1000+ 學習項目
  - 100+ 測驗記錄
- **期望**: 
  - 查詢時間 <2秒
  - 插入操作 <1秒

### 5. 測驗系統測試

**TC012: 卡片顯示功能**
- **測試項目**:
  - 卡片正確顯示日文/中文內容
  - 點擊翻面動畫流暢
  - 隨機順序正確實施
- **期望**: UI 響應流暢，內容顯示正確

**TC013: 滑動手勢識別**
- **測試項目**:
  - 右滑標記為正確
  - 左滑標記為錯誤
  - 手勢靈敏度適中
- **期望**: 手勢識別準確率 >95%

**TC014: 測驗結果統計**
- **測試項目**:
  - 正確率計算
  - 錯題記錄
  - 測驗時間記錄
- **期望**: 統計數據準確無誤

### 6. 使用者介面測試

**TC015: 響應式設計**
- **測試裝置**: 
  - iPhone (各尺寸)
  - Android (不同解析度)
- **期望**: 在所有目標裝置上正確顯示

**TC016: 無障礙功能**
- **測試項目**:
  - 螢幕閱讀器支援
  - 大字體支援
  - 高對比度模式
- **期望**: 符合 WCAG 2.1 標準

**TC017: 操作流暢度**
- **測試項目**:
  - 頁面切換動畫
  - 長按操作回饋
  - 載入狀態指示
- **期望**: 操作反應時間 <500ms

## 性能基準測試

### 記憶體使用
- **基準**: 空閒狀態 <50MB
- **峰值**: 處理圖片時 <200MB
- **測試**: 持續使用 1 小時無記憶體洩漏

### 電池消耗
- **測試條件**: 連續使用測驗功能 30 分鐘
- **期望**: 電池消耗 <10%

### 網路使用
- **OCR + 翻譯**: 每張圖片 <1MB 數據傳輸
- **離線模式**: 核心功能可離線使用

## 測試環境

### 測試裝置
- **iOS**: iPhone 12, iPhone 14 Pro
- **Android**: Samsung Galaxy S21, Pixel 6

### 測試資料
- **教科書圖片**: 50張不同類型的頁面
- **標準答案**: 人工校對的識別和翻譯結果
- **邊緣案例**: 模糊、傾斜、光線不佳的圖片

## 測試排程

### Phase 1: 核心功能 (Week 1-2)
- 相機模組
- OCR 識別
- 基本翻譯

### Phase 2: 進階功能 (Week 3-4)  
- 資料庫操作
- 編輯功能
- 測驗系統

### Phase 3: 整合測試 (Week 5-6)
- 完整使用流程
- 性能優化
- 使用者驗收測試

## 發布前檢查清單

- [ ] 所有自動化測試通過
- [ ] 手動測試完成並記錄
- [ ] 性能指標達到要求
- [ ] 無障礙功能驗證
- [ ] 隱私權政策檢查
- [ ] App Store / Play Store 規範符合